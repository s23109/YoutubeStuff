@using YoutubeStuff.ViewModels
@inherits LayoutComponentBase

<PageTitle>MusicLayout</PageTitle>

<div class="page" >
    <div class="sidebar @SideBarCssClass">
        <div class="top-row ps-3 navbar">
            <div class="container-fluid">
                <button title="Navigation menu" class="navbar-toggler" @onclick="ToggleNavMenu">
                    <span class="navbar-toggler-text">@(collapseNavMenu ? ">>":"<<")</span>
                </button>
                <a class="navbar-brand link" href="">Music</a>
            </div>
        </div>
        <NavMenu navElements="navElements" />
    </div>

    <main>
        <div class="top-row px-4">
            <a href="https://docs.microsoft.com/aspnet/" target="_blank" class="link">About</a>
        </div>

        <article class="content px-4">
            @Body
        </article>
    </main>
</div>

@code{
    //start with menu shown
    private bool collapseNavMenu = false;

    private string? SideBarCssClass => collapseNavMenu ? "sidebar-hidden" : "sidebar-showing";

    public List<NavElement> navElements = new List<NavElement>
    {
        new NavElement
        {
            Destination = "/music",
            Title = "Index Music"
        },
        new NavElement
        {
            Destination = "/music/batchuploads",
            Title = "Batch Uploads"
        }
    };

    private void ToggleNavMenu()
    {
        collapseNavMenu = !collapseNavMenu;
    }
}

